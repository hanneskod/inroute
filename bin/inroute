#!/usr/bin/env php
<?php
/*
 * This file is part of the inroute package
 *
 * Copyright (c) 2013 Hannes ForsgÃ¥rd
 *
 * For the full copyright and license information, please view the LICENSE
 * file that was distributed with this source code.
 */

namespace itbz\inroute {

require __DIR__ . '/../src/bootstrap.php';

}
namespace itbz\test {
    class Container extends \Pimple
    {
        public function __construct()
        {
            $this['foobar'] = function ($c) {
                return new \DateTime;
            };
            $this['xfactory'] = function ($c) {
                return array();
            };
            $this['xx'] = function ($c) {
                return 'xx';
            };
        }
    }
}

namespace itbz\inroute {

$factory = new InrouteFactory();

$factory->loadJson('../inroute.json');
$inroute = eval($factory->generate());

echo $inroute->dispatch('/foo/yeah', $_SERVER);

}
